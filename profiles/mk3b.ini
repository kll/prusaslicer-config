[vendor]
name = KLL
config_version = 0.1.0

[printer_model:MK3B]
name = Prusa i3 MK3 Bear
variants = 0.4; 0.5; 0.6; 0.8
technology = FFF
family = MK3
bed_model = mk3_bed.stl
bed_texture = mk3.svg

[printer:*common*]
bed_shape = 2x2,252x2,252x212,2x212
before_layer_gcode = ;BEFORE_LAYER_CHANGE\n;[layer_z]\nBEFORE_LAYER_CHANGE HEIGHT=[layer_z] LAYER=[layer_num]\n
between_objects_gcode = 
binary_gcode = 0
color_change_gcode = M600\nG1 E0.4 F1500 ; prime after color change
default_filament_profile = Prusament PLA
deretract_speed = 0
end_gcode = PRINT_END\n
extruder_offset = 0x0
gcode_flavor = klipper
layer_gcode = ;AFTER_LAYER_CHANGE\n;[layer_z]\nAFTER_LAYER_CHANGE
machine_limits_usage = time_estimate_only
machine_max_acceleration_e = 2500
machine_max_acceleration_extruding = 2000
machine_max_acceleration_retracting = 1200
machine_max_acceleration_travel = 2000
machine_max_acceleration_x = 2500
machine_max_acceleration_y = 2500
machine_max_acceleration_z = 200
machine_max_feedrate_e = 100
machine_max_feedrate_x = 200
machine_max_feedrate_y = 200
machine_max_feedrate_z = 40
machine_max_jerk_e = 10
machine_max_jerk_x = 8
machine_max_jerk_y = 8
machine_max_jerk_z = 2
machine_min_extruding_rate = 0
machine_min_travel_rate = 0
max_layer_height = 0.3
max_print_height = 213
min_layer_height = 0.07
printer_model = MK3B
printer_notes = PRINTER_VENDOR_KLL\nPRINTER_MODEL_MK3B\n
printer_technology = FFF
remaining_times = 1
retract_before_travel = 1.5
retract_before_wipe = 80%
retract_layer_change = 1
retract_length = 0.5
retract_length_toolchange = 4
retract_lift = 0.2
retract_lift_above = 0
retract_lift_below = 209
retract_restart_extra = 0
retract_restart_extra_toolchange = 0
retract_speed = 35
silent_mode = 0
single_extruder_multi_material = 0
start_gcode = _PRINT_START_PHASE_INIT EXTRUDER={first_layer_temperature[initial_tool]} BED=[first_layer_bed_temperature] MESH_MIN={first_layer_print_min[0]},{first_layer_print_min[1]} MESH_MAX={first_layer_print_max[0]},{first_layer_print_max[1]} LAYERS={total_layer_count} NOZZLE_SIZE={nozzle_diameter[0]}\n; Insert custom gcode here.\n_PRINT_START_PHASE_PREHEAT\n; Insert custom gcode here.\n_PRINT_START_PHASE_PROBING\n; Insert custom gcode here.\n_PRINT_START_PHASE_EXTRUDER\n; Insert custom gcode here.\n_PRINT_START_PHASE_PURGE\n
thumbnails = 64x64/PNG, 640x480/PNG
thumbnails_format = PNG
toolchange_gcode = 
use_firmware_retraction = 0
use_relative_e_distances = 1
use_volumetric_e = 0
variable_layer_height = 1
wipe = 1
z_offset = 0

[printer:Prusa i3 MK3 Bear 0.4 nozzle]
inherits = *common*
default_print_profile = 0.20mm SPEED @MK3B 0.4
max_layer_height = 0.30
nozzle_diameter = 0.4
printer_variant = 0.4
wipe = 0

[printer:Prusa i3 MK3 Bear 0.5 nozzle]
inherits = *common*
default_print_profile = 0.20mm SPEED @MK3B 0.5
deretract_speed = 25
max_layer_height = 0.32
min_layer_height = 0.07
nozzle_diameter = 0.5
printer_variant = 0.5

[printer:Prusa i3 MK3 Bear 0.6 nozzle]
inherits = Prusa i3 MK3 Bear 0.4 nozzle
default_print_profile = 0.25mm SPEED @MK3B 0.6
deretract_speed = 25
max_layer_height = 0.40
min_layer_height = 0.15
nozzle_diameter = 0.6
printer_variant = 0.6
wipe = 1

[printer:Prusa i3 MK3 Bear 0.8 nozzle]
inherits = Prusa i3 MK3 Bear 0.4 nozzle
default_print_profile = 0.40mm QUALITY @MK3B 0.8
deretract_speed = 15
max_layer_height = 0.6
min_layer_height = 0.2
nozzle_diameter = 0.8
printer_variant = 0.8
retract_before_wipe = 50%
retract_lift = 0.25
retract_speed = 25
wipe = 1

[print:*MK3B_common04*]
arc_fitting = emit_center
bottom_solid_layers = 4
bottom_solid_min_thickness = 0.5
bridge_acceleration = 1500
bridge_flow_ratio = 1
bridge_speed = 50
brim_separation = 0.1
compatible_printers_condition = printer_notes=~/.*MK3B.*/ and nozzle_diameter[0]==0.4
default_acceleration = 4000
dont_support_bridges = 0
elefant_foot_compensation = 0.2
enable_dynamic_overhang_speeds = 1
external_perimeter_acceleration = 4000
external_perimeter_extrusion_width = 0.45
external_perimeter_speed = 170
external_perimeters_first = 0
extra_perimeters = 0
extruder_clearance_height = 14
extruder_clearance_radius = 45
extrusion_width = 0.45
fill_angle = 45
fill_density = 15%
fill_pattern = grid
first_layer_acceleration = 500
first_layer_acceleration_over_raft = 0
first_layer_extrusion_width = 0.5
first_layer_height = 0.2
first_layer_speed = 40
first_layer_speed_over_raft = 30
gap_fill_enabled = 1
gap_fill_speed = 120
gcode_comments = 0
gcode_label_objects = firmware
gcode_resolution = 0.008
infill_acceleration = 4000
infill_anchor = 2
infill_anchor_max = 12
infill_every_layers = 1
infill_extruder = 1
infill_extrusion_width = 0.45
infill_first = 0
infill_overlap = 15%
infill_speed = 200
interface_shells = 0
ironing_type = top
layer_height = 0.2
max_print_speed = 200
max_volumetric_extrusion_rate_slope_negative = 0
max_volumetric_extrusion_rate_slope_positive = 0
max_volumetric_speed = 0
min_bead_width = 85%
min_feature_size = 25%
min_skirt_length = 4
mmu_segmented_region_max_width = 0
only_retract_when_crossing_perimeters = 0
ooze_prevention = 0
output_filename_format = {input_filename_base}_0.4n_{layer_height}mm_{printing_filament_types}_{printer_model}_{print_time}.gcode
overhang_speed_0 = 15
overhang_speed_1 = 25
overhang_speed_2 = 30
overhang_speed_3 = 80%
overhangs = 1
perimeter_acceleration = 4000
perimeter_extruder = 1
perimeter_extrusion_width = 0.45
perimeter_generator = arachne
perimeter_speed = 170
perimeters = 2
raft_contact_distance = 0.15
raft_expansion = 1.5
raft_first_layer_density = 80%
raft_first_layer_expansion = 3.5
seam_position = aligned
skirts = 0
slice_closing_radius = 0.049
small_perimeter_speed = 170
solid_infill_acceleration = 4000
solid_infill_below_area = 0
solid_infill_every_layers = 0
solid_infill_extruder = 1
solid_infill_extrusion_width = 0.45
solid_infill_speed = 200
support_material = 0
support_material_angle = 0
support_material_auto = 1
support_material_bottom_contact_distance = 0
support_material_bottom_interface_layers = 0
support_material_buildplate_only = 0
support_material_closing_radius = 2
support_material_contact_distance = 0.2
support_material_enforce_layers = 0
support_material_extruder = 0
support_material_extrusion_width = 0.36
support_material_interface_contact_loops = 0
support_material_interface_extruder = 0
support_material_interface_layers = 5
support_material_interface_pattern = auto
support_material_interface_spacing = 0.2
support_material_interface_speed = 50%
support_material_pattern = rectilinear
support_material_spacing = 2
support_material_speed = 120
support_material_style = snug
support_material_synchronize_layers = 0
support_material_threshold = 40
support_material_with_sheath = 0
support_material_xy_spacing = 80%
support_tree_angle = 40
support_tree_angle_slow = 25
support_tree_branch_diameter = 2
support_tree_branch_diameter_angle = 5
support_tree_branch_diameter_double_wall = 3
support_tree_branch_distance = 1
support_tree_tip_diameter = 0.8
support_tree_top_rate = 30%
thick_bridges = 0
thin_walls = 0
top_fill_pattern = monotoniclines
top_infill_extrusion_width = 0.42
top_solid_infill_acceleration = 1000
top_solid_infill_speed = 100
top_solid_layers = 5
top_solid_min_thickness = 0.7
travel_acceleration = 4000
travel_speed = 300
travel_speed_z = 12

[print:*MK3B_common05*]
inherits = *MK3B_common04*
bottom_solid_layers = 3
bottom_solid_min_thickness = 0.5
compatible_printers_condition = printer_notes=~/.*MK3B.*/ and nozzle_diameter[0]==0.5
default_acceleration = 2500
external_perimeter_extrusion_width = 0.55
extrusion_width = 0.55
first_layer_extrusion_width = 0.55
gap_fill_speed = 70
infill_acceleration = 4000
infill_anchor = 2
infill_anchor_max = 15
infill_extrusion_width = 0.55
output_filename_format = {input_filename_base}_0.5n_{layer_height}mm_{printing_filament_types}_{printer_model}_{print_time}.gcode
perimeter_extrusion_width = 0.55
raft_contact_distance = 0.25
solid_infill_extrusion_width = 0.55
support_material_contact_distance = 0.25
support_material_extrusion_width = 0.4
support_material_interface_spacing = 0.22
support_material_interface_speed = 75%
support_material_xy_spacing = 80%
top_infill_extrusion_width = 0.5
top_solid_layers = 4
top_solid_min_thickness = 0.7

[print:*MK3B_common06*]
inherits = *MK3B_common04*
bottom_solid_layers = 3
bottom_solid_min_thickness = 0.6
compatible_printers_condition = printer_notes=~/.*MK4IS.*/ and nozzle_diameter[0]==0.6
external_perimeter_extrusion_width = 0.68
extrusion_width = 0.68
first_layer_extrusion_width = 0.68
gap_fill_speed = 70
gcode_resolution = 0.0125
infill_anchor = 2.5
infill_anchor_max = 20
infill_extrusion_width = 0.68
output_filename_format = {input_filename_base}_0.6n_{layer_height}mm_{printing_filament_types}_{printer_model}_{print_time}.gcode
overhang_speed_0 = 15
overhang_speed_1 = 20
overhang_speed_2 = 25
overhang_speed_3 = 50
perimeter_extrusion_width = 0.68
raft_contact_distance = 0.25
solid_infill_extrusion_width = 0.68
support_material_contact_distance = 0.15
support_material_extrusion_width = 0.5
support_material_interface_spacing = 0.25
support_material_interface_speed = 75%
support_material_speed = 90
support_material_xy_spacing = 80%
top_infill_extrusion_width = 0.55
top_solid_layers = 4
top_solid_min_thickness = 0.9

[print:*MK4IS_common08*]
inherits = *MK3B_common04*
bottom_solid_layers = 3
bottom_solid_min_thickness = 0.8
compatible_printers_condition = printer_notes=~/.*MK4IS.*/ and nozzle_diameter[0]==0.8
external_perimeter_extrusion_width = 0.9
extrusion_width = 0.9
fill_pattern = rectilinear
first_layer_extrusion_width = 1
gap_fill_speed = 40
gcode_resolution = 0.0125
infill_anchor = 2.5
infill_anchor_max = 20
infill_extrusion_width = 0.9
output_filename_format = {input_filename_base}_0.8n_{layer_height}mm_{printing_filament_types}_{printer_model}_{print_time}.gcode
overhang_speed_1 = 20
overhang_speed_2 = 25
overhang_speed_3 = 80%
perimeter_extrusion_width = 0.9
raft_contact_distance = 0.2
seam_position = nearest
solid_infill_extrusion_width = 0.9
support_material_contact_distance = 0.25
support_material_extrusion_width = 0.65
support_material_interface_spacing = 0.35
support_material_interface_speed = 85%
support_material_xy_spacing = 80%
thick_bridges = 1
top_infill_extrusion_width = 0.8
top_solid_layers = 4
top_solid_min_thickness = 1.2

[print:0.20mm SPEED @MK3B 0.4]
inherits = *MK3B_common04*

[print:0.20mm STRUCTURAL @MK3B 0.4]
inherits = *MK3B_common04*
default_acceleration = 2500
external_perimeter_acceleration = 1500
external_perimeter_speed = 45
gap_fill_speed = 60
infill_speed = 140
overhang_speed_3 = 90%
perimeter_acceleration = 2500
perimeter_speed = 80
small_perimeter_speed = 45
solid_infill_acceleration = 3000
support_material_interface_speed = 50
support_material_speed = 120
top_solid_infill_speed = 80

[print:0.15mm SPEED @MK3B 0.4]
inherits = *MK3B_common04*
bottom_solid_layers = 5
default_acceleration = 3000
external_perimeter_acceleration = 2500
external_perimeter_speed = 170
gap_fill_speed = 120
layer_height = 0.15
overhang_speed_3 = 80%
perimeter_acceleration = 3500
perimeter_speed = 170
raft_contact_distance = 0.15
small_perimeter_speed = 170
solid_infill_acceleration = 3500
support_material_contact_distance = 0.17
support_material_interface_speed = 50
support_material_speed = 120
top_solid_layers = 6

[print:0.15mm STRUCTURAL @MK3B 0.4]
inherits = 0.20mm STRUCTURAL @MK3B 0.4
bottom_solid_layers = 5
infill_speed = 120
layer_height = 0.15
raft_contact_distance = 0.15
support_material_contact_distance = 0.17
top_solid_layers = 6

[print:0.10mm FAST DETAIL @MK3B 0.4]
inherits = 0.15mm SPEED @MK3B 0.4
bottom_solid_layers = 7
bridge_speed = 40
external_perimeter_acceleration = 2000
infill_speed = 140
layer_height = 0.1
perimeter_acceleration = 2500
perimeters = 3
raft_contact_distance = 0.15
support_material_contact_distance = 0.17
top_infill_extrusion_width = 0.4
top_solid_layers = 8
